version: 2.1
jobs:
  build:
    docker:
      - image: cimg/android:2023.08
    steps:
      - checkout
      - run:
          name: Build Debug APK
          command: ./gradlew assembleDebug
      - run:
          name: Send Slack Notification
          command: |
            TIMESTAMP=$(date +"%A, %B %d, %Y %I:%M %p")
            MESSAGE="âœ… *APK Build Completed!*\nðŸ“… Build Date: $TIMESTAMP\nðŸ”— CircleCI Build: $CIRCLE_BUILD_URL"
            curl -X POST -H 'Content-type: application/json' \
            --data "{\"text\":\"${MESSAGE}\"}" \
            "$SLACK_WEBHOOK_URL"
